{"version":3,"sources":["../../src/pages/home/home.module.ts","../../src/pages/home/home.ts"],"names":[],"mappings":"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","file":"7.main.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { HomePage } from './home';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HomePage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HomePage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    HomePage\r\n  ]\r\n})\r\nexport class HomePageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.module.ts","import { Component } from '@angular/core';\r\nimport { Platform, IonicPage, MenuController ,NavController, AlertController } from 'ionic-angular';\r\nimport { Storage } from '@ionic/storage';\r\nimport { AuthConfig } from '../../configs/auth-config';\r\nimport { AlertProvider, AuthProvider, DatabaseProvider, NetworkProvider, NotificationProvider, LoadingProvider, TranslateProvider, UsersApi } from '../../providers';\r\nimport * as firebase from 'firebase';\r\nimport { AngularFireDatabase, FirebaseObjectObservable, FirebaseListObservable } from 'angularfire2/database';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-home',\r\n  templateUrl: 'home.html'\r\n})\r\nexport class HomePage {\r\n  private loaded: boolean;\r\n  private language: string;\r\n  tab1:any;\r\n  private groupList:any;\r\n\r\n  constructor(private platform: Platform,\r\n    public navCtrl: NavController,\r\n    public alertCtrl: AlertController,\r\n    private alert: AlertProvider,\r\n    private auth: AuthProvider,\r\n    private database: DatabaseProvider,\r\n    private network: NetworkProvider,\r\n    private notification: NotificationProvider,\r\n    private translate: TranslateProvider,\r\n    private loading: LoadingProvider,\r\n    private usersApi: UsersApi,\r\n    private storage: Storage,\r\n    public menuCtrl: MenuController) {\r\n     // this.tab1 = HomePage;\r\n     this.database.getGroups().subscribe((groups: any) => {\r\n       this.groupList=groups;\r\n     });\r\n\r\n  }\r\n\r\n  ionViewWillLeave() {\r\n    this.loading.hide();\r\n  }\r\n\r\n  navToDetails(group){\r\n    console.log('grp id '+JSON.stringify(group));\r\n    this.navCtrl.push('GroupDetailsPage',{'id': group.$key})\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.platform.ready().then(() => {\r\n      this.loaded = false;\r\n      // Show IntroPage, you can configure to show the intro once or always when the app loads.\r\n      this.storage.get('introShown').then(result => {\r\n        //Intro is not yet shown.\r\n        if (!result) {\r\n          this.storage.set('introShown', true);\r\n          this.navCtrl.setRoot('IntroPage');\r\n        } else {\r\n          this.auth.getUser().then((user: firebase.User) => {\r\n            if (user) {\r\n              let provider = user.providerData[0].providerId;\r\n              let isTwitter = provider == 'twitter.com';\r\n              if (AuthConfig.emailVerification) {\r\n                if (!user.emailVerified) {\r\n                  if (isTwitter) {\r\n                    this.navCtrl.setRoot('CompleteProfilePage', { isTwitter: isTwitter });\r\n                  } else {\r\n                    this.navCtrl.setRoot('VerificationPage');\r\n                  }\r\n                } else {\r\n                  this.database.exists('users/' + user.uid).then(exists => {\r\n                    if (!exists) {\r\n                      this.navCtrl.setRoot('CompleteProfilePage', { isTwitter: isTwitter });\r\n                    } else {\r\n                      this.notification.init();\r\n                      if (this.usersApi.loaded) {\r\n                        this.loaded = true;\r\n                      } else {\r\n                        this.usersApi.init().then(() => {\r\n                          this.loaded = true;\r\n                        });\r\n                      }\r\n                    }\r\n                  });\r\n                }\r\n              } else {\r\n                this.database.exists('users/' + user.uid).then(exists => {\r\n                  if (!exists) {\r\n                    this.navCtrl.setRoot('CompleteProfilePage', { isTwitter: isTwitter });\r\n                  } else {\r\n                    this.notification.init();\r\n                    if (this.usersApi.loaded) {\r\n                      this.loaded = true;\r\n                    } else {\r\n                      this.usersApi.init().then(() => {\r\n                        this.loaded = true;\r\n                      });\r\n                    }\r\n                  }\r\n                });\r\n              }\r\n            } else {\r\n              this.navCtrl.setRoot('LoginPage');\r\n            }\r\n          });\r\n        }\r\n      });\r\n    });\r\n  }\r\n\r\n  private logout(): void {\r\n    this.alert.showConfirm(this.translate.get('CONFIRM_LOGOUT'), this.translate.get('LOGOUT_QUESTION'), this.translate.get('CANCEL'), this.translate.get('LOGOUT')).then(confirm => {\r\n      if (confirm) {\r\n        this.loading.show();\r\n        this.notification.destroy().then(() => {\r\n          this.auth.logout().then(() => {\r\n            this.loading.hide();\r\n            this.navCtrl.setRoot('LoginPage');\r\n          });\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  private setLanguage(): void {\r\n    let language;\r\n    this.storage.get('language').then(language => {\r\n      language = language;\r\n      let alert = this.alertCtrl.create();\r\n      alert.setTitle(this.translate.get('SET_LANGUAGE'));\r\n      alert.addInput({\r\n        type: 'radio',\r\n        label: this.translate.get('ENGLISH'),\r\n        value: 'en',\r\n        checked: language == 'en'\r\n      });\r\n      alert.addInput({\r\n        type: 'radio',\r\n        label: this.translate.get('SPANISH'),\r\n        value: 'es',\r\n        checked: language == 'es'\r\n      });\r\n      alert.addButton(this.translate.get('CANCEL'));\r\n      alert.addButton({\r\n        text: this.translate.get('OK'),\r\n        handler: data => {\r\n          this.storage.set('language', data).then(() => {\r\n            window.location.reload();\r\n          });\r\n        }\r\n      });\r\n      alert.present();\r\n    });\r\n  }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/home/home.ts"],"sourceRoot":""}